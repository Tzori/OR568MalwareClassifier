import os
import re
#============================================
directory = "c:\\Dev\\OR568MalwareClassifier\\"
package_set = set()
# define a regular expression pattern to match R library statements
library_pattern = re.compile(r'^\s*library\((.*)\)$')
# loop over all files in directory
for filename in os.listdir(directory):
    if filename.endswith('.R'): # only process R scripts
        filepath = os.path.join(directory, filename)
        with open(filepath, 'r') as f:
            for line in f:
                match = library_pattern.match(line)
                if match:
                    package_name = match.group(1)
                    package_set.add(package_name)
# write package names to a text file
with open('R libraries.txt', 'w') as f:
    f.write('\n'.join(package_set))

