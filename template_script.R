#===============================================================================
# Load dependencies/modules/libraries
#===============================================================================
library(tidyverse)
library(dplyr)
library(ggplot)
library(ggplot2)
library(caret)
library(corrplot)
library(lattice)

#===============================================================================
# Load dataset for your machine 
#===============================================================================
# Set your working directory to the directory to where all project R Scripts
cwd <- getwd()
file.name <- "Kaggle-data-FINAL.csv"
paste(cwd, file.name ,sep="/")
df <- read.csv(paste(cwd, file.name ,sep="/"))

#===============================================================================
# Pre-Process Data
#===============================================================================
# Load dataset for your machine 
# Set your working directory to the directory to where all project R Scripts 

# Label the response variable column name
response_var <- "legitimate" 
## Confirm there are no nulls
sum(is.na(df))
## Check for near zero variance using the nearZeroVar function
zeroVar <- nearZeroVar(df, saveMetrics=FALSE)
## Column index 10, 30, 31, 32, 33, and 47 all have zero  variance
colnames(df[c(10,30,31,32,33,47)])
##Dropping near zero variance columns
df_trans1 <- df[, -c(10,30,31,32,33,47)] 
##Check to see what class each attribute is
sapply(df_trans1, class)
##Can see that md5 is a character class so we will drop this as it is not needed
df_trans2 <- df_trans1[,-2]
colnames(df_trans2)

## Find highly correlated variables; remove corr magnitude .8 or higher
corr_matrix <- cor(df_trans2)
high_corr <- findCorrelation(corr_matrix, cutoff = 0.8)
removed_variables <- names(df_trans2)[high_corr]
removed_variables

df_trans3 <- df_trans2[, -high_corr]

data <- df_trans3

#===============================================================================
# Split Test Train Data
#===============================================================================

#===============================================================================
# Create Model
#===============================================================================

#===============================================================================
# Validate Model
#===============================================================================

#===============================================================================
# Create Visualizations of Model Aspects
#===============================================================================